{"ast":null,"code":"import { put, takeLatest, all, call } from \"redux-saga/effects\";\nimport { server } from \"../server\";\nconst apiUrl = \"http://tpi.uneed.ir:7100/post/search\";\nvar myHeaders = new Headers();\nmyHeaders.append(\"t\", \"WFT9KbF8mCoP6cKFWCmfqvs/pU9TUR8IRLOqMgOFpNE=\");\nmyHeaders.append(\"Content-Type\", \"application/json\");\nvar raw = JSON.stringify({\n  lm: \"2\",\n  pg: \"2\",\n  tp: \"1\"\n});\n\nfunction getApi() {\n  return fetch(apiUrl, {\n    method: \"POST\",\n    headers: myHeaders,\n    body: raw,\n    redirect: \"follow\"\n  }).then(response => response.text()).then(result => JSON.parse(result));\n}\n\nfunction* fetchNews() {\n  try {\n    const users = yield call(getApi);\n    console.log(users);\n    yield put({\n      type: \"PRODUCT_RECEIVED\",\n      product: users\n    });\n  } catch (e) {\n    yield put({\n      type: \"GET_USERS_FAILED\",\n      message: e.message\n    });\n  }\n}\n\nfunction* actionWatcher() {\n  yield takeLatest(\"GET_NEWS\", fetchNews);\n}\n\nexport default function* rootSaga() {\n  yield all([actionWatcher()]);\n}","map":{"version":3,"sources":["D:/developer/front end/redux/project/arsh/client/src/sagas/index.js"],"names":["put","takeLatest","all","call","server","apiUrl","myHeaders","Headers","append","raw","JSON","stringify","lm","pg","tp","getApi","fetch","method","headers","body","redirect","then","response","text","result","parse","fetchNews","users","console","log","type","product","e","message","actionWatcher","rootSaga"],"mappings":"AAAA,SAASA,GAAT,EAAcC,UAAd,EAA0BC,GAA1B,EAA+BC,IAA/B,QAA2C,oBAA3C;AACA,SAASC,MAAT,QAAuB,WAAvB;AAEA,MAAMC,MAAM,GAAG,sCAAf;AACA,IAAIC,SAAS,GAAG,IAAIC,OAAJ,EAAhB;AACAD,SAAS,CAACE,MAAV,CAAiB,GAAjB,EAAsB,8CAAtB;AACAF,SAAS,CAACE,MAAV,CAAiB,cAAjB,EAAiC,kBAAjC;AAEA,IAAIC,GAAG,GAAGC,IAAI,CAACC,SAAL,CAAe;AACvBC,EAAAA,EAAE,EAAE,GADmB;AAEvBC,EAAAA,EAAE,EAAE,GAFmB;AAGvBC,EAAAA,EAAE,EAAE;AAHmB,CAAf,CAAV;;AAMA,SAASC,MAAT,GAAkB;AAChB,SAAOC,KAAK,CAACX,MAAD,EAAS;AACnBY,IAAAA,MAAM,EAAE,MADW;AAEnBC,IAAAA,OAAO,EAAEZ,SAFU;AAGnBa,IAAAA,IAAI,EAAEV,GAHa;AAInBW,IAAAA,QAAQ,EAAE;AAJS,GAAT,CAAL,CAMJC,IANI,CAMEC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EANf,EAOJF,IAPI,CAOEG,MAAD,IAAYd,IAAI,CAACe,KAAL,CAAWD,MAAX,CAPb,CAAP;AAQD;;AAED,UAAUE,SAAV,GAAsB;AACpB,MAAI;AACF,UAAMC,KAAK,GAAG,MAAMxB,IAAI,CAACY,MAAD,CAAxB;AACAa,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,UAAM3B,GAAG,CAAC;AAAE8B,MAAAA,IAAI,EAAE,kBAAR;AAA4BC,MAAAA,OAAO,EAAEJ;AAArC,KAAD,CAAT;AACD,GAJD,CAIE,OAAOK,CAAP,EAAU;AACV,UAAMhC,GAAG,CAAC;AAAE8B,MAAAA,IAAI,EAAE,kBAAR;AAA4BG,MAAAA,OAAO,EAAED,CAAC,CAACC;AAAvC,KAAD,CAAT;AACD;AACF;;AAED,UAAUC,aAAV,GAA0B;AACxB,QAAMjC,UAAU,CAAC,UAAD,EAAayB,SAAb,CAAhB;AACD;;AAED,eAAe,UAAUS,QAAV,GAAqB;AAClC,QAAMjC,GAAG,CAAC,CAACgC,aAAa,EAAd,CAAD,CAAT;AACD","sourcesContent":["import { put, takeLatest, all, call } from \"redux-saga/effects\";\r\nimport { server } from \"../server\";\r\n\r\nconst apiUrl = \"http://tpi.uneed.ir:7100/post/search\";\r\nvar myHeaders = new Headers();\r\nmyHeaders.append(\"t\", \"WFT9KbF8mCoP6cKFWCmfqvs/pU9TUR8IRLOqMgOFpNE=\");\r\nmyHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\nvar raw = JSON.stringify({\r\n  lm: \"2\",\r\n  pg: \"2\",\r\n  tp: \"1\",\r\n});\r\n\r\nfunction getApi() {\r\n  return fetch(apiUrl, {\r\n    method: \"POST\",\r\n    headers: myHeaders,\r\n    body: raw,\r\n    redirect: \"follow\",\r\n  })\r\n    .then((response) => response.text())\r\n    .then((result) => JSON.parse(result));\r\n}\r\n\r\nfunction* fetchNews() {\r\n  try {\r\n    const users = yield call(getApi);\r\n    console.log(users);\r\n    yield put({ type: \"PRODUCT_RECEIVED\", product: users });\r\n  } catch (e) {\r\n    yield put({ type: \"GET_USERS_FAILED\", message: e.message });\r\n  }\r\n}\r\n\r\nfunction* actionWatcher() {\r\n  yield takeLatest(\"GET_NEWS\", fetchNews);\r\n}\r\n\r\nexport default function* rootSaga() {\r\n  yield all([actionWatcher()]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}